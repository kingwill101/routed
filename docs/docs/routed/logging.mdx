---
title: Logging
description: Structured logging and request metadata
sidebar_position: 23
---

# Logging

The logging provider instruments requests and emits structured logs. Configure log level, request header capture, and channel drivers via the manifest.

## Configuration

```yaml title="config/logging.yaml"
logging:
  enabled: true
  level: info
  errors_only: false
  format: pretty
  request_headers:
    - user-agent
    - x-request-id
  extra_fields:
    service: api
  default: stacked
  channels:
    stacked:
      driver: stack
      channels: [console, daily]
    console:
      driver: single
      path: storage/logs/routed.log
    daily:
      driver: daily
      path: storage/logs/routed.log
      retention_days: 14
```

## Channel drivers

- `single`: writes to one file.
- `daily`: rotates and keeps `retention_days`.
- `stack`: multiplexes multiple channels.
- `webhook`: posts structured logs to an HTTP endpoint.
- `sampling`: rate-limits logs by level.

## Behavior

- Middleware ID: `routed.logging.http`.
- `errors_only` logs only failed requests.
- `request_headers` captures selected headers into the log context.

## Next steps

- [Fundamentals: Logging](/docs/routed/fundamentals/logging)
- [Configuration: Logging](/docs/routed/fundamentals/configuration#logging-configuration)
