"use strict";(self.webpackChunkrouted=self.webpackChunkrouted||[]).push([[7566],{7203:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"assertable json/type-value-assertions","title":"Type & Value Assertions","description":"Learn about type checking and value matching in assertable_json","source":"@site/docs/assertable json/type-value-assertions.mdx","sourceDirName":"assertable json","slug":"/assertable json/type-value-assertions","permalink":"/docs/assertable json/type-value-assertions","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/assertable json/type-value-assertions.mdx","tags":[],"version":"current","frontMatter":{"title":"Type & Value Assertions","description":"Learn about type checking and value matching in assertable_json"},"sidebar":"tutorialSidebar","previous":{"title":"Schema Validation","permalink":"/docs/assertable json/schema-validation"},"next":{"title":"Hardening REST APIs with Property-Based Testing","permalink":"/docs/tutorials/hardening-rest-apis"}}');var i=s(4848),a=s(8453);const r={title:"Type & Value Assertions",description:"Learn about type checking and value matching in assertable_json"},l="Type & Value Assertions",o={},c=[{value:"Type Assertions",id:"type-assertions",level:2},{value:"Basic Type Checking",id:"basic-type-checking",level:3},{value:"Checking Types of Multiple Properties",id:"checking-types-of-multiple-properties",level:3},{value:"Type Checking in Arrays",id:"type-checking-in-arrays",level:3},{value:"Value Assertions",id:"value-assertions",level:2},{value:"Exact Matching",id:"exact-matching",level:3},{value:"List-Based Matching",id:"list-based-matching",level:3},{value:"Custom Validation Functions",id:"custom-validation-functions",level:3},{value:"String Pattern Matching",id:"string-pattern-matching",level:3},{value:"Combining Type and Value Assertions",id:"combining-type-and-value-assertions",level:2},{value:"Validating Multiple Values",id:"validating-multiple-values",level:2},{value:"Using with Scopes",id:"using-with-scopes",level:2},{value:"Complete Example",id:"complete-example",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"type--value-assertions",children:"Type & Value Assertions"})}),"\n",(0,i.jsxs)(n.p,{children:["Verifying the correct types and values of properties is essential for thorough JSON testing. The ",(0,i.jsx)(n.code,{children:"assertable_json"})," package provides comprehensive methods for these validations."]}),"\n",(0,i.jsx)(n.h2,{id:"type-assertions",children:"Type Assertions"}),"\n",(0,i.jsx)(n.h3,{id:"basic-type-checking",children:"Basic Type Checking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .whereType<int>('id')\n  .whereType<String>('name')\n  .whereType<bool>('isActive')\n  .whereType<List>('items')\n  .whereType<Map>('settings')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"checking-types-of-multiple-properties",children:"Checking Types of Multiple Properties"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.whereAllType<String>(['title', 'description', 'category']);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"type-checking-in-arrays",children:"Type Checking in Arrays"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.scope('items', (items) => {\n  items.each((item) => {\n    item.whereType<int>('id');\n    item.whereType<String>('name');\n  });\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"value-assertions",children:"Value Assertions"}),"\n",(0,i.jsx)(n.h3,{id:"exact-matching",children:"Exact Matching"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .where('status', 'active')            // Equal to \"active\"\n  .whereNot('status', 'inactive')       // Not equal to \"inactive\"\n"})}),"\n",(0,i.jsx)(n.h3,{id:"list-based-matching",children:"List-Based Matching"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .whereIn('role', ['admin', 'user'])   // Value is in the list\n  .whereNotIn('role', ['guest', 'banned']) // Value is not in the list\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-validation-functions",children:"Custom Validation Functions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.where('email', (value) => value.toString().contains('@'));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"string-pattern-matching",children:"String Pattern Matching"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .whereContains('email', '@')          // Contains substring\n  .whereContains('tags', 'urgent')      // For lists, checks if item exists\n"})}),"\n",(0,i.jsx)(n.h2,{id:"combining-type-and-value-assertions",children:"Combining Type and Value Assertions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .whereType<int>('id')\n  .where('id', (id) => id > 0)\n  \n  .whereType<String>('email')\n  .whereContains('email', '@')\n  \n  .whereType<bool>('isActive')\n  .where('isActive', true);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"validating-multiple-values",children:"Validating Multiple Values"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.whereAll({\n  'id': 123,\n  'name': 'John Doe',\n  'isActive': true,\n  'role': 'admin'\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"using-with-scopes",children:"Using with Scopes"}),"\n",(0,i.jsx)(n.p,{children:"Type and value assertions can be combined with scoping for complex validations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.scope('user', (user) => {\n  user\n    .whereType<int>('id')\n    .whereType<String>('name')\n    .where('name', 'John Doe')\n    \n    .scope('settings', (settings) => {\n      settings\n        .whereType<bool>('notifications')\n        .where('notifications', true)\n        .whereType<String>('theme')\n        .whereIn('theme', ['light', 'dark']);\n    });\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"test('testing api response', () {\n  final json = AssertableJson({\n    'status': 'success',\n    'data': {\n      'user': {\n        'id': 123,\n        'name': 'John Doe',\n        'email': 'john@example.com',\n        'isActive': true,\n        'role': 'admin',\n        'settings': {\n          'notifications': true,\n          'theme': 'dark'\n        },\n        'tags': ['developer', 'manager']\n      }\n    },\n    'meta': {\n      'timestamp': 1234567890,\n      'version': '1.0'\n    }\n  });\n\n  json\n    .whereType<String>('status')\n    .where('status', 'success')\n    \n    .scope('data.user', (user) => {\n      user\n        .whereType<int>('id')\n        .whereType<String>('name')\n        .whereType<String>('email')\n        .whereContains('email', '@')\n        .whereType<bool>('isActive')\n        .where('isActive', true)\n        .whereType<String>('role')\n        .whereIn('role', ['admin', 'user', 'manager'])\n        \n        .scope('settings', (settings) => {\n          settings\n            .whereType<bool>('notifications')\n            .whereType<String>('theme')\n            .whereIn('theme', ['light', 'dark']);\n        })\n        \n        .scope('tags', (tags) => {\n          tags.each((tag) => {\n            tag.whereType<String>();\n          });\n        });\n    })\n    \n    .scope('meta', (meta) => {\n      meta\n        .whereType<int>('timestamp')\n        .whereType<String>('version');\n    });\n});\n"})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);