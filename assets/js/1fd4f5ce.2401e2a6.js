"use strict";(globalThis.webpackChunkrouted=globalThis.webpackChunkrouted||[]).push([[6801],{3959:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"chaos-testing","title":"Chaos & Adversarial Inputs","description":"Use the Chaos helpers when you want to blast your system with malicious, malformed, or extreme values. They mix in edge-case characters, control bytes, deep JSON structures, and integer boundary values that regular generators rarely cover.","source":"@site/docs/property-testing/chaos-testing.mdx","sourceDirName":".","slug":"/chaos-testing","permalink":"/docs/property_testing/chaos-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/property-testing/chaos-testing.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Chaos & Adversarial Inputs","sidebar_position":5},"sidebar":"propertyTestingSidebar","previous":{"title":"Specialized Generators","permalink":"/docs/property_testing/specialized-generators"},"next":{"title":"Stateful Testing","permalink":"/docs/property_testing/stateful-testing"}}');var r=t(4848),i=t(8453);const a={title:"Chaos & Adversarial Inputs",sidebar_position:5},o=void 0,c={},l=[{value:"Generators",id:"generators",level:2},{value:"Chaos categories",id:"chaos-categories",level:2},{value:"Combining chaos with structured generators",id:"combining-chaos-with-structured-generators",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"Chaos"})," helpers when you want to blast your system with malicious, malformed, or extreme values. They mix in edge-case characters, control bytes, deep JSON structures, and integer boundary values that regular generators rarely cover."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"test('search endpoint survives untrusted strings', () async {\n  final runner = PropertyTestRunner(\n    Chaos.string(maxLength: 200),\n    (payload) async {\n      final response = await client.get('/api/search?q=$payload');\n      expect(response.statusCode, lessThan(500));\n    },\n    PropertyConfig(numTests: 500),\n  );\n\n  final result = await runner.run();\n  expect(result.success, isTrue, reason: result.report);\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"generators",children:"Generators"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"API"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Chaos.string({int? minLength, int? maxLength})"})}),(0,r.jsx)(n.td,{children:"Builds strings that interleave random Unicode with problematic characters (null bytes, zero-width spaces, SQL injection payloads, etc.). Shrinking removes or neutralises problematic characters."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Chaos.integer({int? min, int? max})"})}),(0,r.jsx)(n.td,{children:"Generates integers biased toward well-known edge cases (JS max safe int, \xb12\xb3\xb9, \xb12\u2076\xb3, 0, \xb11) and shrinks by trying those boundaries first."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Chaos.json({int maxDepth = 3, int maxLength = 10})"})}),(0,r.jsx)(n.td,{children:"Produces JSON-like strings with potentially malformed structures, huge nesting, and injected control characters."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Chaos.bytes({int? minLength, int? maxLength})"})}),(0,r.jsxs)(n.td,{children:["Emits ",(0,r.jsx)(n.code,{children:"List<int>"})," values containing random bytes, BOM sequences, null bytes, and other tricky values."]})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"All generators share the same shrinking philosophy: simplify structure first (shorter strings, fewer JSON members, shorter byte lists), then smooth out problematic tokens."}),"\n",(0,r.jsx)(n.h2,{id:"chaos-categories",children:"Chaos categories"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ChaosCategory"})," enumerates the kinds of attack payloads baked into the chaotic string generator:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"sqlInjection"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"xss"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"pathTraversal"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"commandInjection"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"unicode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"large"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"special"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"format"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"control"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"json"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ChaosConfig"})," packages up a set of categories, a maximum length, and an intensity value. The current release uses the defaults internally; future releases will surface the config object as an argument once the tuning API is stabilised."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"// Keep a config handy so you can re-run with the same knobs\nconst loginChaos = ChaosConfig(\n  categories: {\n    ChaosCategory.sqlInjection,\n    ChaosCategory.unicode,\n    ChaosCategory.control,\n  },\n  maxLength: 512,\n  intensity: 0.7,\n);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"combining-chaos-with-structured-generators",children:"Combining chaos with structured generators"}),"\n",(0,r.jsx)(n.p,{children:"Mix chaotic primitives into richer structures by composing with the core generator API:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"final chaoticFormGen = Chaos.string(maxLength: 64).flatMap((value) {\n  return Gen.oneOf(['name', 'email', 'comment']).map((field) {\n    return {'field': field, 'value': value};\n  });\n});\n\nfinal runner = PropertyTestRunner(\n  chaoticFormGen,\n  (payload) async {\n    final response = await client.postJson('/forms', payload);\n    expect(response.statusCode, lessThan(500));\n  },\n  PropertyConfig(numTests: 200),\n);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"flatMap"})," to connect chaotic components with valid counterparts (e.g. chaos in one field, hand-crafted defaults in others) so the overall payload stays meaningful while still attacking the fragile parts."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);