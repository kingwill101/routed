"use strict";(globalThis.webpackChunkrouted=globalThis.webpackChunkrouted||[]).push([[3820],{675:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"getting-started","title":"Getting Started","description":"Install Routed, wire your first engine, and serve HTTP requests","source":"@site/docs/routed/getting-started.mdx","sourceDirName":".","slug":"/getting-started","permalink":"/docs/routed/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/routed/getting-started.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Getting Started","description":"Install Routed, wire your first engine, and serve HTTP requests","sidebar_position":1},"sidebar":"routedSidebar","previous":{"title":"Routed Overview","permalink":"/docs/routed/"},"next":{"title":"Fundamentals","permalink":"/docs/routed/fundamentals/"}}');var s=t(4848),d=t(8453);const i={title:"Getting Started",description:"Install Routed, wire your first engine, and serve HTTP requests",sidebar_position:1},a="Getting Started",o={},c=[{value:"1. Install dependencies",id:"1-install-dependencies",level:2},{value:"2. Scaffold (optional) and create an engine",id:"2-scaffold-optional-and-create-an-engine",level:2},{value:"3. Create an engine and router",id:"3-create-an-engine-and-router",level:2},{value:"Running the server",id:"running-the-server",level:3},{value:"Inspect routes and generate specs",id:"inspect-routes-and-generate-specs",level:3},{value:"4. Work with request data",id:"4-work-with-request-data",level:2},{value:"5. Add middleware",id:"5-add-middleware",level:2},{value:"6. Render views",id:"6-render-views",level:2},{value:"7. Next steps",id:"7-next-steps",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,s.jsx)(n.p,{children:"Follow this guide to bootstrap a Routed application, define routes, and serve HTTP traffic."}),"\n",(0,s.jsx)(n.h2,{id:"1-install-dependencies",children:"1. Install dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Install the runtime package and add the CLI/testing helpers as dev dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dart pub add routed\ndart pub add --dev routed server_testing server_testing_shelf routed_testing\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"routed"})," ships the scaffolding, dev server, manifest inspection, and provider utilities used throughout the docs. Keeping it as a dev dependency ensures ",(0,s.jsx)(n.code,{children:"dart run routed ..."})," works in any environment."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-scaffold-optional-and-create-an-engine",children:"2. Scaffold (optional) and create an engine"}),"\n",(0,s.jsx)(n.p,{children:"The CLI can bootstrap a project for you:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dart run routed create --name hello_world\ncd hello_world\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The generator writes the standard ",(0,s.jsx)(n.code,{children:"bin/server.dart"}),", configuration files under ",(0,s.jsx)(n.code,{children:"config/"}),", and project metadata. It also runs ",(0,s.jsx)(n.code,{children:"dart pub get"})," automatically\u2014if dependency resolution fails, the CLI prints the exit code along with the command to rerun manually. Choose a template with ",(0,s.jsx)(n.code,{children:"--template"})," (",(0,s.jsx)(n.code,{children:"basic"}),", ",(0,s.jsx)(n.code,{children:"api"}),", ",(0,s.jsx)(n.code,{children:"web"}),", or ",(0,s.jsx)(n.code,{children:"fullstack"}),"), supply ",(0,s.jsx)(n.code,{children:"--output <directory>"})," to scaffold into an existing folder, and pass ",(0,s.jsx)(n.code,{children:"--force"})," to overwrite conflicting files. Every template includes ",(0,s.jsx)(n.code,{children:"lib/commands.dart"}),"; populate its ",(0,s.jsx)(n.code,{children:"buildProjectCommands()"})," hook and the Routed CLI will surface your custom commands in ",(0,s.jsx)(n.code,{children:"dart run routed --help"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Prefer to wire things manually? Create ",(0,s.jsx)(n.code,{children:"bin/server.dart"})," and copy the snippet below."]}),"\n",(0,s.jsx)(n.h2,{id:"3-create-an-engine-and-router",children:"3. Create an engine and router"}),"\n",(0,s.jsx)(n.p,{children:"The engine manages global middleware, configuration, and HTTP/WebSocket servers. Define routes either on the engine directly or through routers that you mount."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="bin/server.dart"',children:"import 'package:routed/routed.dart';\n\nFuture<void> main() async {\n  final engine = Engine(\n    options: [\n      // Timeout requests after 30s\n      withMiddleware([timeoutMiddleware(const Duration(seconds: 30))]),\n    ],\n  );\n\n  // Define routes directly on the engine\n  engine.get('/', (ctx) => ctx.string('Hello Routed \ud83d\udc4b'));\n\n  // Or compose routers and mount them\n  final api = Router(path: '/api', middlewares: [requestTrackerMiddleware()]);\n\n  api.group(path: '/users', builder: (users) {\n    users.get('/', (ctx) => ctx.json({'users': []}));\n    users.post('/', (ctx) async {\n      final payload = await ctx.jsonBody();\n      return ctx.json({'status': 'created', 'data': payload});\n    });\n  });\n\n  engine.use(api);\n\n  await engine.serve(host: '127.0.0.1', port: 8080);\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"running-the-server",children:"Running the server"}),"\n",(0,s.jsxs)(n.p,{children:["During development the CLI's ",(0,s.jsx)(n.code,{children:"dev"})," command provides a hot-reload loop:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dart run routed dev --entry bin/server.dart\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The command resolves the right Dart executable (honouring ",(0,s.jsx)(n.code,{children:"ROUTED_CLI_DART"}),", ",(0,s.jsx)(n.code,{children:"DART_BIN"}),", or ",(0,s.jsx)(n.code,{children:"DART_PATH"})," overrides), enables the VM service, generates a bootstrap that wires in ",(0,s.jsx)(n.code,{children:"hotreloader"}),", and restarts or triggers reloads when files change. Customise the experience with flags such as ",(0,s.jsx)(n.code,{children:"--host"}),", ",(0,s.jsx)(n.code,{children:"--port"}),", ",(0,s.jsx)(n.code,{children:"--no-bootstrap"}),", or ",(0,s.jsx)(n.code,{children:"--bootstrap-path"})," for bespoke setups."]}),"\n",(0,s.jsx)(n.p,{children:"For single-run scripts or CI environments you can execute the entrypoint directly:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dart run bin/server.dart\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Visit ",(0,s.jsx)(n.a,{href:"http://127.0.0.1:8080/",children:"http://127.0.0.1:8080/"})," to see the greeting, or send requests to ",(0,s.jsx)(n.code,{children:"/api/users"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Tip: Routed ships with a provider manifest (",(0,s.jsx)(n.code,{children:"config/http.yaml"}),") and a CLI (",(0,s.jsx)(n.code,{children:"dart run routed provider:list --config"}),") that shows which providers are enabled and the defaults they contribute. If you add caching, sessions, or security features later, the CLI will also surface configuration validation errors before you start the server."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inspect-routes-and-generate-specs",children:"Inspect routes and generate specs"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"dart run routed routes"})," to print the HTTP and WebSocket routes the engine exposes. The command automatically introspects ",(0,s.jsx)(n.code,{children:"lib/app.dart"})," (via ",(0,s.jsx)(n.code,{children:"createEngine()"}),") or falls back to ",(0,s.jsx)(n.code,{children:"tool/spec_manifest.dart"}),". Pass ",(0,s.jsx)(n.code,{children:"--format json"})," with ",(0,s.jsx)(n.code,{children:"--no-pretty"})," when you need machine-readable output."]}),"\n",(0,s.jsx)(n.p,{children:"When you need a persisted snapshot (for documentation, code generation, or contract tests), run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dart run routed spec:generate --output .dart_tool/routed/route_manifest.json\n"})}),"\n",(0,s.jsx)(n.p,{children:"Both commands share the same manifest loader, so toggling providers or adding routes in code stays in sync with the generated spec."}),"\n",(0,s.jsx)(n.h2,{id:"4-work-with-request-data",children:"4. Work with request data"}),"\n",(0,s.jsxs)(n.p,{children:["Handlers receive an ",(0,s.jsx)(n.code,{children:"EngineContext"})," with handy helpers:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"engine.post('/contact', (ctx) async {\n  final body = await ctx.jsonBody(); // Decodes JSON\n  final name = ctx.input('name');    // Form/query helper\n  final userAgent = ctx.requestHeader('User-Agent');\n\n  return ctx.json({\n    'receivedFrom': name ?? body['email'],\n    'agent': userAgent,\n  });\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Learn more in ",(0,s.jsx)(n.a,{href:"/docs/routed/fundamentals/requests",children:"Requests"})," and ",(0,s.jsx)(n.a,{href:"/docs/routed/fundamentals/responses",children:"Responses"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"5-add-middleware",children:"5. Add middleware"}),"\n",(0,s.jsx)(n.p,{children:"Use global middleware (passed to the engine), group middleware (declared on routers), or route middleware:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"engine.get(\n  '/secure',\n  (ctx) => ctx.string('Secret'),\n  middlewares: [basicAuth({'admin': 'secret'})],\n);\n"})}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/routed/fundamentals/middleware",children:"Middleware"})," for the distinction between global, group, and route-level middleware."]}),"\n",(0,s.jsx)(n.h2,{id:"6-render-views",children:"6. Render views"}),"\n",(0,s.jsxs)(n.p,{children:["Routed includes a Liquid template engine. Configure it via ",(0,s.jsx)(n.code,{children:"EngineConfig"})," or the ",(0,s.jsx)(n.code,{children:"useViewEngine"})," helper:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"final engine = Engine();\nengine.useViewEngine(LiquidViewEngine(directory: 'views'));\n\nengine.get('/welcome', (ctx) async {\n  return await ctx.template(\n    templateName: 'welcome.liquid',\n    data: {'user': 'Taylor'},\n  );\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/routed/views/templates",children:"Liquid templates"})," for more."]}),"\n",(0,s.jsx)(n.h2,{id:"7-next-steps",children:"7. Next steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Understand the engine lifecycle and configuration options: ",(0,s.jsx)(n.a,{href:"/docs/routed/fundamentals/",children:"Fundamentals"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Learn routing patterns, parameter constraints, and naming: ",(0,s.jsx)(n.a,{href:"/docs/routed/fundamentals/routing",children:"Routing basics"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Enable sessions, caching, or security headers: ",(0,s.jsx)(n.a,{href:"/docs/routed/state/",children:"State"})," and ",(0,s.jsx)(n.a,{href:"/docs/routed/security/",children:"Security"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Add tests with ",(0,s.jsx)(n.code,{children:"routed_testing"}),": ",(0,s.jsx)(n.a,{href:"/docs/routed/testing/overview",children:"Testing Routed apps"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var r=t(6540);const s={},d=r.createContext(s);function i(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);