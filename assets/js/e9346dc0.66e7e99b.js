"use strict";(globalThis.webpackChunkrouted=globalThis.webpackChunkrouted||[]).push([[7399],{307:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"test-client/headers","title":"Header Extensions","description":"Learn about HTTP header utilities in server_testing","source":"@site/docs/server-testing/test-client/headers.mdx","sourceDirName":"test-client","slug":"/test-client/headers","permalink":"/docs/server_testing/test-client/headers","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/server-testing/test-client/headers.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Header Extensions","description":"Learn about HTTP header utilities in server_testing","sidebar_position":4},"sidebar":"serverTestingSidebar","previous":{"title":"Response Assertions","permalink":"/docs/server_testing/test-client/response-assertions"},"next":{"title":"JSON Assertions","permalink":"/docs/server_testing/test-client/json-assertions"}}');var r=n(4848),i=n(8453);const a={title:"Header Extensions",description:"Learn about HTTP header utilities in server_testing",sidebar_position:4},o="Header Extensions",d={},c=[{value:"Converting Headers to Map",id:"converting-headers-to-map",level:2},{value:"Working with Header Maps",id:"working-with-header-maps",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"header-extensions",children:"Header Extensions"})}),"\n",(0,r.jsx)(t.p,{children:"server_testing provides utilities for working with HTTP headers in tests through the HttpHeaderExtension."}),"\n",(0,r.jsx)(t.h2,{id:"converting-headers-to-map",children:"Converting Headers to Map"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"toMap()"})," extension method converts HttpHeaders to a Map for easier manipulation:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dart",children:"test('header manipulation', () {\n  final response = await client.get('/api');\n  \n  // Get headers as map\n  final headerMap = response.headers.toMap();\n  \n  // Access header values\n  final contentType = headerMap['content-type'];\n  final authorization = headerMap['authorization'];\n  \n  // Headers are preserved as lists\n  expect(headerMap['accept'], isList);\n});\n"})}),"\n",(0,r.jsx)(t.h2,{id:"working-with-header-maps",children:"Working with Header Maps"}),"\n",(0,r.jsx)(t.p,{children:"Use the header map for testing and manipulation:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dart",children:"test('verify headers', () async {\n  final response = await client.get('/api');\n  final headers = response.headers.toMap();\n  \n  // Check header existence\n  expect(headers.containsKey('content-type'), isTrue);\n  \n  // Check header values\n  expect(\n    headers['content-type']?[0],\n    equals('application/json')\n  );\n  \n  // Check multiple values\n  expect(\n    headers['accept']?.length,\n    greaterThan(1)\n  );\n});\n"})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(6540);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);