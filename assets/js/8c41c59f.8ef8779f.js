"use strict";(self.webpackChunkrouted=self.webpackChunkrouted||[]).push([[3548],{6808:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"assertable json/array-object-testing","title":"Array & Object Testing","description":"Learn about testing arrays and nested objects with assertable_json","source":"@site/docs/assertable json/array-object-testing.mdx","sourceDirName":"assertable json","slug":"/assertable json/array-object-testing","permalink":"/docs/assertable json/array-object-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/assertable json/array-object-testing.mdx","tags":[],"version":"current","frontMatter":{"title":"Array & Object Testing","description":"Learn about testing arrays and nested objects with assertable_json"},"sidebar":"tutorialSidebar","previous":{"title":"Assertable JSON","permalink":"/docs/assertable json/"},"next":{"title":"Debugging Tools","permalink":"/docs/assertable json/debugging-tools"}}');var r=s(4848),a=s(8453);const i={title:"Array & Object Testing",description:"Learn about testing arrays and nested objects with assertable_json"},o="Array & Object Testing",c={},l=[{value:"Array Testing",id:"array-testing",level:2},{value:"Counting Elements",id:"counting-elements",level:3},{value:"Testing Array Contents",id:"testing-array-contents",level:3},{value:"Working with Array Values",id:"working-with-array-values",level:3},{value:"Nested Object Testing",id:"nested-object-testing",level:2},{value:"Scoping to Nested Objects",id:"scoping-to-nested-objects",level:3},{value:"Deeply Nested Navigation",id:"deeply-nested-navigation",level:3},{value:"Combining Array and Object Testing",id:"combining-array-and-object-testing",level:2},{value:"Complex Assertions with Arrays",id:"complex-assertions-with-arrays",level:2},{value:"Testing Arrays of Primitives",id:"testing-arrays-of-primitives",level:2},{value:"Complete Example",id:"complete-example",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"array--object-testing",children:"Array & Object Testing"})}),"\n",(0,r.jsxs)(n.p,{children:["Testing complex JSON structures with arrays and nested objects is a common requirement. The ",(0,r.jsx)(n.code,{children:"assertable_json"})," package provides powerful tools for these scenarios."]}),"\n",(0,r.jsx)(n.h2,{id:"array-testing",children:"Array Testing"}),"\n",(0,r.jsx)(n.h3,{id:"counting-elements",children:"Counting Elements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json\n  .count('items', 3)              // Exact count\n  .countBetween('items', 1, 5)    // Count within range\n"})}),"\n",(0,r.jsx)(n.h3,{id:"testing-array-contents",children:"Testing Array Contents"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json.scope('items', (items) => {\n  // Test first element\n  items.first((item) => {\n    item\n      .has('id')\n      .where('id', 1);\n  });\n  \n  // Test each element\n  items.each((item) => {\n    item\n      .has('id')\n      .has('name')\n      .whereType<int>('id')\n      .whereType<String>('name');\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"working-with-array-values",children:"Working with Array Values"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json\n  .hasValues(['apple', 'banana', 'orange'])  // Array contains exact values\n  .whereContains('fruits', 'apple')          // Array contains specific value\n"})}),"\n",(0,r.jsx)(n.h2,{id:"nested-object-testing",children:"Nested Object Testing"}),"\n",(0,r.jsx)(n.h3,{id:"scoping-to-nested-objects",children:"Scoping to Nested Objects"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json.scope('user', (user) => {\n  user\n    .has('id')\n    .has('profile')\n    \n    .scope('profile', (profile) => {\n      profile\n        .has('email')\n        .has('settings');\n    });\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"deeply-nested-navigation",children:"Deeply Nested Navigation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json\n  .hasNested('user.profile.settings.theme')\n  .scope('user.profile.settings', (settings) => {\n    settings\n      .has('theme')\n      .has('notifications');\n  });\n"})}),"\n",(0,r.jsx)(n.h2,{id:"combining-array-and-object-testing",children:"Combining Array and Object Testing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json.scope('users', (users) => {\n  users.each((user) => {\n    user\n      .has('id')\n      .has('name')\n      .has('permissions')\n      \n      .scope('permissions', (permissions) => {\n        permissions.each((permission) => {\n          permission\n            .has('resource')\n            .has('access');\n        });\n      });\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"complex-assertions-with-arrays",children:"Complex Assertions with Arrays"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"// Checking specific array index\njson.scope('items.0', (firstItem) => {\n  firstItem\n    .has('id')\n    .where('id', 1);\n});\n\n// Filtering arrays\njson.scope('items', (items) => {\n  // Find items with specific property values\n  let activeItems = 0;\n  \n  items.each((item) => {\n    if (item.get<bool>('isActive') == true) {\n      activeItems++;\n    }\n  });\n  \n  // Assert on the filter results\n  expect(activeItems, greaterThan(0));\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"testing-arrays-of-primitives",children:"Testing Arrays of Primitives"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"json.scope('scores', (scores) => {\n  scores.each((score) => {\n    score.whereType<int>();\n    \n    // For direct value testing\n    final value = score.json as int;\n    expect(value, greaterThanOrEqualTo(0));\n    expect(value, lessThanOrEqualTo(100));\n  });\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"test('testing complex array and object structure', () {\n  final json = AssertableJson({\n    'users': [\n      {\n        'id': 1,\n        'name': 'John Doe',\n        'email': 'john@example.com',\n        'roles': ['admin', 'user'],\n        'settings': {\n          'theme': 'dark',\n          'notifications': true\n        }\n      },\n      {\n        'id': 2,\n        'name': 'Jane Smith',\n        'email': 'jane@example.com',\n        'roles': ['user'],\n        'settings': {\n          'theme': 'light',\n          'notifications': false\n        }\n      }\n    ],\n    'products': [\n      {\n        'id': 101,\n        'name': 'Product 1',\n        'price': 29.99,\n        'categories': ['electronics', 'featured'],\n        'stock': {\n          'quantity': 100,\n          'locations': ['warehouse-a', 'store-5']\n        }\n      },\n      {\n        'id': 102,\n        'name': 'Product 2',\n        'price': 49.99,\n        'categories': ['home'],\n        'stock': {\n          'quantity': 50,\n          'locations': ['warehouse-b']\n        }\n      }\n    ],\n    'stats': {\n      'userCount': 2,\n      'productCount': 2,\n      'topCategories': ['electronics', 'home', 'featured']\n    }\n  });\n\n  json\n    // Test users array\n    .has('users')\n    .count('users', 2)\n    \n    .scope('users', (users) => {\n      users.each((user) => {\n        user\n          .has('id')\n          .has('name')\n          .has('email')\n          .has('roles')\n          .has('settings')\n          \n          .scope('roles', (roles) => {\n            roles.each((role) => {\n              role.whereType<String>();\n            });\n          })\n          \n          .scope('settings', (settings) => {\n            settings\n              .has('theme')\n              .has('notifications')\n              .whereType<String>('theme')\n              .whereType<bool>('notifications');\n          });\n      });\n      \n      // Test first user specifically\n      users.first((user) => {\n        user\n          .where('id', 1)\n          .where('name', 'John Doe')\n          .count('roles', 2);\n      });\n    })\n    \n    // Test products array\n    .has('products')\n    .count('products', 2)\n    \n    .scope('products', (products) => {\n      products.each((product) => {\n        product\n          .has('id')\n          .has('name')\n          .has('price')\n          .has('categories')\n          .has('stock')\n          \n          .whereType<int>('id')\n          .whereType<String>('name')\n          .whereType<double>('price')\n          .whereType<List>('categories')\n          \n          .scope('stock', (stock) => {\n            stock\n              .has('quantity')\n              .has('locations')\n              .whereType<int>('quantity')\n              .whereType<List>('locations');\n          });\n      });\n    })\n    \n    // Test stats object\n    .has('stats')\n    .scope('stats', (stats) => {\n      stats\n        .has('userCount')\n        .has('productCount')\n        .has('topCategories')\n        \n        .whereType<int>('userCount')\n        .whereType<int>('productCount')\n        .whereType<List>('topCategories')\n        \n        .where('userCount', 2)\n        .where('productCount', 2)\n        .count('topCategories', 3);\n    });\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);