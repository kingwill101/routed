"use strict";(self.webpackChunkrouted=self.webpackChunkrouted||[]).push([[4608],{7213:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"assertable json/debugging-tools","title":"Debugging Tools","description":"Learn about the debugging utilities in assertable_json","source":"@site/docs/assertable json/debugging-tools.mdx","sourceDirName":"assertable json","slug":"/assertable json/debugging-tools","permalink":"/docs/assertable json/debugging-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/assertable json/debugging-tools.mdx","tags":[],"version":"current","frontMatter":{"title":"Debugging Tools","description":"Learn about the debugging utilities in assertable_json"},"sidebar":"tutorialSidebar","previous":{"title":"Array & Object Testing","permalink":"/docs/assertable json/array-object-testing"},"next":{"title":"JSON String Testing","permalink":"/docs/assertable json/json-string-testing"}}');var i=s(4848),r=s(8453);const o={title:"Debugging Tools",description:"Learn about the debugging utilities in assertable_json"},a="Debugging Tools",d={},l=[{value:"Printing JSON Data",id:"printing-json-data",level:2},{value:"Basic Printing",id:"basic-printing",level:3},{value:"Dump and Die (dd)",id:"dump-and-die-dd",level:3},{value:"Tapping Into the Assertion Chain",id:"tapping-into-the-assertion-chain",level:2},{value:"Scoping for Debugging",id:"scoping-for-debugging",level:2},{value:"Checking Property Interaction",id:"checking-property-interaction",level:2},{value:"Getting Raw Values",id:"getting-raw-values",level:2},{value:"Debugging with Conditionals",id:"debugging-with-conditionals",level:2},{value:"Complete Example",id:"complete-example",level:2},{value:"Best Practices for Debugging",id:"best-practices-for-debugging",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"debugging-tools",children:"Debugging Tools"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"assertable_json"})," package includes several useful tools for debugging your JSON tests. These tools can help identify issues in your tests or JSON data."]}),"\n",(0,i.jsx)(n.h2,{id:"printing-json-data",children:"Printing JSON Data"}),"\n",(0,i.jsx)(n.h3,{id:"basic-printing",children:"Basic Printing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// Pretty-print the JSON data\njson.printR();\n\n// Pretty-print with custom indentation\njson.printR(indent: 4);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dump-and-die-dd",children:"Dump and Die (dd)"}),"\n",(0,i.jsx)(n.p,{children:"Inspired by Laravel's dd() function, this method prints the JSON data and then stops execution:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// Print JSON and stop execution\njson.dd();\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is particularly useful when you need to see the JSON structure at a specific point in your test."}),"\n",(0,i.jsx)(n.h2,{id:"tapping-into-the-assertion-chain",children:"Tapping Into the Assertion Chain"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"tap"})," method allows you to inspect the JSON data at any point in your assertion chain without breaking it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json\n  .has('user')\n  .tap((j) {\n    print('User object: ${j.get('user')}');\n    // Perform any other debugging here\n  })\n  .scope('user', (user) {\n    user.has('id').has('name');\n  });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"scoping-for-debugging",children:"Scoping for Debugging"}),"\n",(0,i.jsx)(n.p,{children:"You can use scopes to focus your debugging on specific parts of the JSON:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.scope('complex.nested.structure', (nested) {\n  // Now you can debug just this part\n  nested.printR();\n  // Continue with assertions\n  nested.has('id');\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"checking-property-interaction",children:"Checking Property Interaction"}),"\n",(0,i.jsx)(n.p,{children:"See which properties have been checked in your assertions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// At the end of your test\njson.verifyInteracted();\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will fail if any properties in the JSON haven't been checked, helping you identify missed properties."}),"\n",(0,i.jsx)(n.h2,{id:"getting-raw-values",children:"Getting Raw Values"}),"\n",(0,i.jsx)(n.p,{children:"Extract specific values for debugging:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"// Get a value for inspection\nfinal userId = json.get<int>('user.id');\nprint('User ID: $userId');\n\n// Get a list\nfinal tags = json.getList<String>('user.tags');\nprint('Tags: $tags');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"debugging-with-conditionals",children:"Debugging with Conditionals"}),"\n",(0,i.jsx)(n.p,{children:"Use conditionals to add debugging logic:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"json.when(isDebugMode, (j) {\n  print('DEBUG MODE: JSON Data');\n  j.printR();\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.p,{children:"Here's a comprehensive example showing how to use various debugging tools:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"test('debugging complex JSON response', () {\n  final json = AssertableJson({\n    'status': 'success',\n    'data': {\n      'user': {\n        'id': 123,\n        'name': 'John Doe',\n        'permissions': ['read', 'write'],\n        'settings': {\n          'theme': 'dark',\n          'notifications': true\n        }\n      },\n      'posts': [\n        {'id': 1, 'title': 'First Post'},\n        {'id': 2, 'title': 'Second Post'}\n      ]\n    }\n  });\n\n  // Debug the whole structure\n  print('Full JSON structure:');\n  json.printR();\n  \n  json\n    .has('status')\n    .has('data')\n    \n    // Tap into the chain to debug\n    .tap((j) {\n      print('Status: ${j.get<String>('status')}');\n      print('Has data object: ${j.exists('data')}');\n    })\n    \n    .scope('data', (data) {\n      // Debug just the data object\n      print('Data object:');\n      data.printR();\n      \n      data\n        .has('user')\n        .tap((d) {\n          // Extract and print user ID\n          final userId = d.get<int>('user.id');\n          print('User ID: $userId');\n          \n          // Print user permissions\n          final permissions = d.getList<String>('user.permissions');\n          print('Permissions: $permissions');\n        })\n        \n        .scope('user', (user) {\n          user\n            .has('id')\n            .has('name')\n            .has('permissions')\n            .has('settings');\n        })\n        \n        .scope('posts', (posts) {\n          posts\n            .count('posts', 2)\n            .each((post) {\n              post.has('id').has('title');\n            });\n        });\n    })\n    \n    // Ensure all properties were checked\n    .verifyInteracted();\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices-for-debugging",children:"Best Practices for Debugging"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"tap()"})," for non-intrusive debugging"]})," - It allows you to inspect without breaking your assertion chain"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"printR()"})," for complex structures"]})," - It provides a formatted view of JSON data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"dd()"})," sparingly"]})," - Since it stops execution, only use when necessary"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["Use ",(0,i.jsx)(n.code,{children:"verifyInteracted()"})," to find missed properties"]})," - It helps ensure thorough testing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scope debugging to relevant sections"})," - This keeps debug output focused and readable"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);