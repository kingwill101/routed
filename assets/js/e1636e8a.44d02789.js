"use strict";(globalThis.webpackChunkrouted=globalThis.webpackChunkrouted||[]).push([[7186],{8453:(e,i,t)=>{t.d(i,{R:()=>o,x:()=>d});var r=t(6540);const s={},n=r.createContext(s);function o(e){const i=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(n.Provider,{value:i},e.children)}},8873:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"observability","title":"Observability","description":"Health, readiness, metrics, and diagnostics","source":"@site/docs/routed/observability.mdx","sourceDirName":".","slug":"/observability","permalink":"/docs/routed/observability","draft":false,"unlisted":false,"editUrl":"https://github.com/kingwill101/routed/tree/main/docs/docs/routed/observability.mdx","tags":[],"version":"current","sidebarPosition":24,"frontMatter":{"title":"Observability","description":"Health, readiness, metrics, and diagnostics","sidebar_position":24},"sidebar":"routedSidebar","previous":{"title":"Logging","permalink":"/docs/routed/logging"},"next":{"title":"Cache","permalink":"/docs/routed/cache"}}');var s=t(4848),n=t(8453);const o={title:"Observability",description:"Health, readiness, metrics, and diagnostics",sidebar_position:24},d="Observability",a={},l=[{value:"Configuration",id:"configuration",level:2},{value:"Routes &amp; metrics",id:"routes--metrics",level:2},{value:"Behavior",id:"behavior",level:2},{value:"Next steps",id:"next-steps",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"observability",children:"Observability"})}),"\n",(0,s.jsx)(i.p,{children:"The observability provider publishes health, readiness, and metrics endpoints, and wires tracing/metrics middleware into the request pipeline."}),"\n",(0,s.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-yaml",metastring:'title="config/observability.yaml"',children:"observability:\n  enabled: true\n  tracing:\n    enabled: true\n    service_name: routed-api\n  metrics:\n    enabled: true\n    route: /metrics\n  health:\n    enabled: true\n    ready_route: /readyz\n    live_route: /livez\n"})}),"\n",(0,s.jsx)(i.h2,{id:"routes--metrics",children:"Routes & metrics"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"/metrics"})," exposes Prometheus metrics (",(0,s.jsx)(i.code,{children:"routed_requests_total"}),", ",(0,s.jsx)(i.code,{children:"routed_request_duration_seconds_*"}),", ",(0,s.jsx)(i.code,{children:"routed_active_requests"}),")."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"/readyz"})," and ",(0,s.jsx)(i.code,{children:"/livez"})," are health probes for orchestration."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"behavior",children:"Behavior"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Middleware IDs: ",(0,s.jsx)(i.code,{children:"routed.observability.tracing"})," and ",(0,s.jsx)(i.code,{children:"routed.observability.metrics"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.code,{children:"routed routes"})," to confirm endpoints are registered."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/docs/routed/fundamentals/observability",children:"Fundamentals: Observability"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/docs/routed/examples/route-events",children:"Examples: Route events"})}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);