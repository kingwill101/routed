diff --git a/pkgs/shelf/lib/shelf_io.dart b/pkgs/shelf/lib/shelf_io.dart
index eaa8629..1d1b073 100644
--- a/pkgs/shelf/lib/shelf_io.dart
+++ b/pkgs/shelf/lib/shelf_io.dart
@@ -26,6 +26,7 @@ import 'dart:io';
 
 import 'package:collection/collection.dart';
 import 'package:http_parser/http_parser.dart';
+import 'package:server_native/server_native.dart';
 import 'package:stack_trace/stack_trace.dart';
 import 'package:stream_channel/stream_channel.dart';
 
@@ -49,6 +50,11 @@ export 'src/io_server.dart' show IOServer;
 /// Pass [poweredByHeader] to set the default content for "X-Powered-By",
 /// pass `null` to omit this header.
 /// {@endtemplate}
+const _serverNativeCompatEnv = 'SERVER_NATIVE_COMPAT';
+
+bool get _useServerNative =>
+    Platform.environment[_serverNativeCompatEnv] == 'true';
+
 Future<HttpServer> serve(
   Handler handler,
   Object address,
@@ -60,7 +66,15 @@ Future<HttpServer> serve(
 }) async {
   backlog ??= 0;
   var server = await (securityContext == null
-      ? HttpServer.bind(address, port, backlog: backlog, shared: shared)
+      ? (_useServerNative
+          ? NativeHttpServer.bind(
+              address,
+              port,
+              backlog: backlog,
+              shared: shared,
+              http3: false,
+            )
+          : HttpServer.bind(address, port, backlog: backlog, shared: shared))
       : HttpServer.bindSecure(
           address,
           port,
diff --git a/pkgs/shelf/pubspec.yaml b/pkgs/shelf/pubspec.yaml
index 3dd9347..c8d97ce 100644
--- a/pkgs/shelf/pubspec.yaml
+++ b/pkgs/shelf/pubspec.yaml
@@ -18,6 +18,8 @@ dependencies:
   collection: ^1.15.0
   http_parser: ^4.1.0
   path: ^1.8.0
+  server_native:
+    path: __SERVER_NATIVE_PATH__
   stack_trace: ^1.10.0
   stream_channel: ^2.1.0
 
diff --git a/pkgs/shelf_proxy/pubspec.yaml b/pkgs/shelf_proxy/pubspec.yaml
index 2e4125f..35aa7fa 100644
--- a/pkgs/shelf_proxy/pubspec.yaml
+++ b/pkgs/shelf_proxy/pubspec.yaml
@@ -19,3 +19,7 @@ dependencies:
 dev_dependencies:
   dart_flutter_team_lints: ^3.0.0
   test: ^1.6.0
+
+dependency_overrides:
+  shelf:
+    path: ../shelf
diff --git a/pkgs/shelf_router/pubspec.yaml b/pkgs/shelf_router/pubspec.yaml
index 08a9ba4..0cba5a2 100644
--- a/pkgs/shelf_router/pubspec.yaml
+++ b/pkgs/shelf_router/pubspec.yaml
@@ -22,3 +22,7 @@ dev_dependencies:
   dart_flutter_team_lints: ^3.0.0
   http: '>=0.13.0 <2.0.0'
   test: ^1.16.0
+
+dependency_overrides:
+  shelf:
+    path: ../shelf
diff --git a/pkgs/shelf_web_socket/pubspec.yaml b/pkgs/shelf_web_socket/pubspec.yaml
index 9d142dd..a4c9d38 100644
--- a/pkgs/shelf_web_socket/pubspec.yaml
+++ b/pkgs/shelf_web_socket/pubspec.yaml
@@ -20,3 +20,7 @@ dev_dependencies:
   dart_flutter_team_lints: ^3.0.0
   http: '>=0.13.0 <2.0.0'
   test: ^1.25.2
+
+dependency_overrides:
+  shelf:
+    path: ../shelf
