# Auth configuration quick reference:
# features.haigate.enabled – Enable Haigate authorization registry and middleware. Default: false. Type: bool
# gates.abilities – Declarative Haigate abilities. Entries map ability names to role or authentication checks. Default: {}. Type: map
# gates.abilities[].allow_guest – Allow guests (no principal) to pass the gate (defaults to false). Default: false. Type: bool
# gates.abilities[].any – If true, any listed role passes (defaults to requiring all roles). Default: false. Type: bool
# gates.abilities[].roles – Roles required for the ability (used when type is roles or roles_any). Default: []. Type: list<string>
# gates.abilities[].type – Ability type. Supported values: authenticated, guest, roles, roles_any. Options: authenticated, guest, roles, roles_any Type: string
# gates.defaults.denied_message – Optional body message returned when a gate denies access (used by default middleware). Type: string
# gates.defaults.denied_status – HTTP status returned when a gate denies access (used by default middleware). Default: 403. Type: int
# guards – Named guard definitions consumed by guard middleware (e.g. authenticated, roles). Default: {"authenticated":{"type":"authenticated","realm":"Restricted"}}. Type: map
# jwt.algorithms – Allowed signing algorithms (e.g. RS256). Default: ["RS256"]. Type: list<string>
# jwt.audience – Allowed audience values (any match passes). Default: []. Type: list<string>
# jwt.bearer_prefix – Expected prefix for bearer tokens (default "Bearer "). Default: "Bearer ". Type: string
# jwt.clock_skew – Clock skew allowance for exp/nbf validation. Default: 60s. Type: duration
# jwt.enabled – Enable JWT Bearer authentication middleware. Default: false. Type: bool
# jwt.header – Header name inspected for bearer tokens. Default: Authorization. Type: string
# jwt.issuer – Required issuer claim value. Type: string
# jwt.jwks_cache_ttl – How long JWKS responses are cached. Default: 5m. Type: duration
# jwt.jwks_url – JWKS endpoint used to resolve signing keys. Type: string
# jwt.keys – Inline JWK set used in addition to remote JWKS. Default: []. Type: list<map>
# jwt.required_claims – Claims that must be present in every token. Default: []. Type: list<string>
# oauth2.introspection.additional – Additional form parameters appended to introspection requests. Default: {}. Type: map<string,string>
# oauth2.introspection.cache_ttl – How long introspection results are cached. Default: 30s. Type: duration
# oauth2.introspection.client_id – Client identifier used when calling the introspection endpoint. Type: string
# oauth2.introspection.client_secret – Client secret used for introspection requests. Type: string
# oauth2.introspection.clock_skew – Clock skew allowance for introspection timestamps. Default: 60s. Type: duration
# oauth2.introspection.enabled – Enable RFC 7662 token introspection middleware. Default: false. Type: bool
# oauth2.introspection.endpoint – OAuth2 introspection endpoint URL. Type: string
# oauth2.introspection.token_type_hint – Optional token type hint passed to the introspection endpoint. Type: string
# session.remember_me.cookie – Cookie name used for remember-me tokens. Default: remember_token. Type: string
# session.remember_me.duration – Default lifetime applied to remember-me tokens when issued. Default: 30d. Type: duration

features:
  haigate:
    enabled: false
gates:
  abilities:
  abilities[]:
    allow_guest: false
    any: false
    roles:
  defaults:
    denied_status: 403
guards:
  authenticated:
    realm: Restricted
    type: authenticated
jwt:
  algorithms:
    - RS256
  audience:
  bearer_prefix: Bearer
  clock_skew: 60s
  enabled: false
  header: Authorization
  jwks_cache_ttl: 5m
  keys:
  required_claims:
oauth2:
  introspection:
    additional:
    cache_ttl: 30s
    clock_skew: 60s
    enabled: false
session:
  remember_me:
    cookie: remember_token
    duration: 30d

